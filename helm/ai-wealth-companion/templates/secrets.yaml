{{/*
  This template documents the expected external secrets.
  Secrets are NOT created by Helm - they must be created separately
  using scripts/k8s-secrets.sh to avoid storing sensitive data in source control.

  Required secrets:
  - db-credentials: DATABASE_URL
  - jwt-secret: JWT_SECRET_KEY
  - ai-credentials: GEMINI_API_KEY, OPENAI_API_KEY
  - oauth-credentials: GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET, GITHUB_CLIENT_ID, GITHUB_CLIENT_SECRET
*/}}

---
# Placeholder ConfigMap to document required secrets
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "ai-wealth-companion.fullname" . }}-secrets-info
  namespace: {{ include "ai-wealth-companion.namespace" . }}
  labels:
    {{- include "ai-wealth-companion.labels" . | nindent 4 }}
  annotations:
    helm.sh/hook: pre-install
    helm.sh/hook-weight: "-10"
data:
  README: |
    Required Kubernetes Secrets for AI Wealth Companion
    ====================================================

    Create these secrets BEFORE deploying the Helm chart:

    1. Database credentials:
       kubectl create secret generic db-credentials \
         --namespace={{ include "ai-wealth-companion.namespace" . }} \
         --from-literal=DATABASE_URL='postgresql+asyncpg://user:pass@host/db'

    2. JWT secret:
       kubectl create secret generic jwt-secret \
         --namespace={{ include "ai-wealth-companion.namespace" . }} \
         --from-literal=JWT_SECRET_KEY='your-super-secret-key'

    3. AI credentials:
       kubectl create secret generic ai-credentials \
         --namespace={{ include "ai-wealth-companion.namespace" . }} \
         --from-literal=GEMINI_API_KEY='your-gemini-api-key' \
         --from-literal=OPENAI_API_KEY='optional-openai-key'

    4. OAuth credentials:
       kubectl create secret generic oauth-credentials \
         --namespace={{ include "ai-wealth-companion.namespace" . }} \
         --from-literal=GOOGLE_CLIENT_ID='your-google-client-id' \
         --from-literal=GOOGLE_CLIENT_SECRET='your-google-secret' \
         --from-literal=GITHUB_CLIENT_ID='your-github-client-id' \
         --from-literal=GITHUB_CLIENT_SECRET='your-github-secret'

    Or use the helper script:
       ./scripts/k8s-secrets.sh
